# session 1
ID of first query in session: 456763197

number of queries: 12

query evolution description:
The query has been fixed along the process and the numbers of variables are reduced to retrun more concise and simple result.

user story:

The user aims to find a list of artworks created by Leonardo da Vinci. For each of the artworks, show some attributes.
However, the first query has some errors, so only the list of the artwork is returned. Then the user fixed this issue in the next query and sucessfully got the artwork attributes, such as image, year of creation, who created or designed it, the place where it is located, the collection it belongs to, its dimensions, genre, material, and more. Until the end of the session, the user focuses on reduce the number of variables and optional properties to create a more concise query for his/her purpose.


=========================================== SESSION BEGIN ===========================================
query 1:

# This is a complex one with nested subqueries and is used to extract artworks (paintings or similar items) created by a specific artist — in this case, Leonardo da Vinci (Wikidata entity: Q762). Something went wrong as only var1 was shown.

ID: 659681063
timestamp: 2017-06-12 09:25:32 +00:00
SELECT ?var1 (  SAMPLE ( ?var2  ) AS  ?var3  )(  GROUP_CONCAT (  DISTINCT  ?var4 ; SEPARATOR =  ", " )  AS  ?var5  )
WHERE {
 SELECT DISTINCT ?var1  ?var1Label (  ?var6  AS  ?var7  ) ?var8Label (  YEAR (  ?var9  )  AS  ?var10  ) ?var11Label  ?var12Label  ?var13  ?var14  ?var15Label  ?var16Label  ?var17Label 
 WHERE  {
   ?var1 ( <http://www.wikidata.org/prop/direct/P84> | <http://www.wikidata.org/prop/direct/P170> ) <http://www.wikidata.org/entity/Q762> .
   ?var1  <http://www.wikidata.org/prop/direct/P18>  ?var6 .
  OPTIONAL {
   ?var1 ( <http://www.wikidata.org/prop/direct/P170> | <http://www.wikidata.org/prop/direct/P84> ) ?var8 .
  }
  OPTIONAL {
   ?var1  <http://www.wikidata.org/prop/direct/P571>  ?var9 .
  }
  OPTIONAL {
   ?var1  <http://www.wikidata.org/prop/direct/P1705>  ?var18Label .
  }
  OPTIONAL {
   ?var1  <http://www.wikidata.org/prop/direct/P276>  ?var11 .
  }
  OPTIONAL {
   ?var1  <http://www.wikidata.org/prop/direct/P195>  ?var12 .
  }
  OPTIONAL {
   ?var1  <http://www.wikidata.org/prop/direct/P2048>  ?var13 .
  }
  OPTIONAL {
   ?var1  <http://www.wikidata.org/prop/direct/P2049>  ?var14 .
  }
  OPTIONAL {
   ?var1  <http://www.wikidata.org/prop/direct/P1071>  ?var15 .
  }
  OPTIONAL {
   ?var1  <http://www.wikidata.org/prop/direct/P136>  ?var16 .
  }
  OPTIONAL {
   ?var1  <http://www.wikidata.org/prop/direct/P186>  ?var17 .
  }
  SERVICE  <http://wikiba.se/ontology#label>    {
     <http://www.bigdata.com/rdf#serviceParam>  <http://wikiba.se/ontology#language>  "en,it,fr,de,es".
   }
 }
 ORDER BY ASC( ?var9 )
}
GROUP BY  ?var1 

	|
	|
	v

query 2:

# Return me a list of artworks created by Leonardo da Vinci. For each artwork, show its image, year of creation, who created or designed it, the place where it is located, the collection it belongs to, its dimensions, genre, material, and more — if available. Sort the results by date of creation.

ID: 658139984
timestamp: 2017-06-12 09:29:05 +00:00
SELECT DISTINCT ?var1  ?var1Label (  ?var2  AS  ?var3  ) ?var4Label (  YEAR (  ?var5  )  AS  ?var6  ) ?var7Label  ?var8Label  ?var9  ?var10  ?var11Label  ?var12Label  ?var13Label 
WHERE {
  ?var1 ( <http://www.wikidata.org/prop/direct/P84> | <http://www.wikidata.org/prop/direct/P170> ) <http://www.wikidata.org/entity/Q762> .
  ?var1  <http://www.wikidata.org/prop/direct/P18>  ?var2 .
 OPTIONAL {
  ?var1 ( <http://www.wikidata.org/prop/direct/P170> | <http://www.wikidata.org/prop/direct/P84> ) ?var4 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P571>  ?var5 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P1705>  ?var14Label .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P276>  ?var7 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P195>  ?var8 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P2048>  ?var9 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P2049>  ?var10 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P1071>  ?var11 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P136>  ?var12 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P186>  ?var13 .
 }
 SERVICE  <http://wikiba.se/ontology#label>   {
    <http://www.bigdata.com/rdf#serviceParam>  <http://wikiba.se/ontology#language>  "en,it,fr,de,es".
  }
}
ORDER BY ASC( ?var5 )

	|
	|
	v

query 3:

# variables to extract the metadata is reduced to certain attributes and remove the unused var

ID: 659611299
timestamp: 2017-06-12 09:29:52 +00:00
SELECT DISTINCT ?var1  ?var1Label (  ?var2  AS  ?var3  ) ?var4Label (  YEAR (  ?var5  )  AS  ?var6  ) ?var7Label  ?var8Label  ?var9  ?var10  ?var11Label 
WHERE {
  ?var1 ( <http://www.wikidata.org/prop/direct/P84> | <http://www.wikidata.org/prop/direct/P170> ) <http://www.wikidata.org/entity/Q762> .
  ?var1  <http://www.wikidata.org/prop/direct/P18>  ?var2 .
 OPTIONAL {
  ?var1 ( <http://www.wikidata.org/prop/direct/P170> | <http://www.wikidata.org/prop/direct/P84> ) ?var4 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P571>  ?var5 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P1705>  ?var12Label .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P276>  ?var7 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P195>  ?var8 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P2048>  ?var9 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P2049>  ?var10 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P1071>  ?var11 .
 }
 SERVICE  <http://wikiba.se/ontology#label>   {
    <http://www.bigdata.com/rdf#serviceParam>  <http://wikiba.se/ontology#language>  "en,it,fr,de,es".
  }
}
ORDER BY ASC( ?var5 )

	|
	|
	v

query 4:

# refine the query and reduce the var number

ID: 658963272
timestamp: 2017-06-12 09:30:08 +00:00
SELECT DISTINCT ?var1  ?var1Label (  ?var2  AS  ?var3  ) ?var4Label (  YEAR (  ?var5  )  AS  ?var6  ) ?var7Label  ?var8  ?var9  ?var10Label 
WHERE {
  ?var1 ( <http://www.wikidata.org/prop/direct/P84> | <http://www.wikidata.org/prop/direct/P170> ) <http://www.wikidata.org/entity/Q762> .
  ?var1  <http://www.wikidata.org/prop/direct/P18>  ?var2 .
 OPTIONAL {
  ?var1 ( <http://www.wikidata.org/prop/direct/P170> | <http://www.wikidata.org/prop/direct/P84> ) ?var4 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P571>  ?var5 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P1705>  ?var11Label .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P276>  ?var7 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P2048>  ?var8 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P2049>  ?var9 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P1071>  ?var10 .
 }
 SERVICE  <http://wikiba.se/ontology#label>   {
    <http://www.bigdata.com/rdf#serviceParam>  <http://wikiba.se/ontology#language>  "en,it,fr,de,es".
  }
}
ORDER BY ASC( ?var5 )

	|
	|
	v

query 5:

# reduce to 10 variables in SELECT

ID: 658760781
timestamp: 2017-06-12 09:30:59 +00:00
SELECT DISTINCT ?var1  ?var1Label (  ?var2  AS  ?var3  )(  YEAR (  ?var4  )  AS  ?var5  ) ?var6Label  ?var7  ?var8  ?var9Label 
WHERE {
  ?var1 ( <http://www.wikidata.org/prop/direct/P84> | <http://www.wikidata.org/prop/direct/P170> ) <http://www.wikidata.org/entity/Q762> .
  ?var1  <http://www.wikidata.org/prop/direct/P18>  ?var2 .
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P571>  ?var4 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P1705>  ?var10Label .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P276>  ?var6 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P2048>  ?var7 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P2049>  ?var8 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P1071>  ?var9 .
 }
 SERVICE  <http://wikiba.se/ontology#label>   {
    <http://www.bigdata.com/rdf#serviceParam>  <http://wikiba.se/ontology#language>  "en,it,fr,de,es".
  }
}
ORDER BY ASC( ?var4 )

	|
	|
	v

query 6:

# dimensions are removed from the query and make it more concise, focusing on fewer fields

ID: 659099110
timestamp: 2017-06-12 09:32:04 +00:00
SELECT DISTINCT ?var1  ?var1Label (  ?var2  AS  ?var3  )(  YEAR (  ?var4  )  AS  ?var5  ) ?var6Label  ?var7Label 
WHERE {
  ?var1 ( <http://www.wikidata.org/prop/direct/P84> | <http://www.wikidata.org/prop/direct/P170> ) <http://www.wikidata.org/entity/Q762> .
  ?var1  <http://www.wikidata.org/prop/direct/P18>  ?var2 .
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P571>  ?var4 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P1705>  ?var8Label .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P276>  ?var6 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P1071>  ?var7 .
 }
 SERVICE  <http://wikiba.se/ontology#label>   {
    <http://www.bigdata.com/rdf#serviceParam>  <http://wikiba.se/ontology#language>  "en,it,fr,de,es".
  }
}
ORDER BY ASC( ?var4 )

	|
	|
	v

query 7:

# location is removed

ID: 659192987
timestamp: 2017-06-12 09:32:37 +00:00
SELECT DISTINCT ?var1  ?var1Label (  ?var2  AS  ?var3  )(  YEAR (  ?var4  )  AS  ?var5  ) ?var6Label 
WHERE {
  ?var1 ( <http://www.wikidata.org/prop/direct/P84> | <http://www.wikidata.org/prop/direct/P170> ) <http://www.wikidata.org/entity/Q762> .
  ?var1  <http://www.wikidata.org/prop/direct/P18>  ?var2 .
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P571>  ?var4 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P1705>  ?var7Label .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P1071>  ?var6 .
 }
 SERVICE  <http://wikiba.se/ontology#label>   {
    <http://www.bigdata.com/rdf#serviceParam>  <http://wikiba.se/ontology#language>  "en,it,fr,de,es".
  }
}
ORDER BY ASC( ?var4 )

	|
	|
	v

query 8:

# sort the result diffently, from creation date to alphabetical order

ID: 659602791
timestamp: 2017-06-12 09:33:05 +00:00
SELECT DISTINCT ?var1  ?var1Label (  ?var2  AS  ?var3  )(  YEAR (  ?var4  )  AS  ?var5  ) ?var6Label 
WHERE {
  ?var1 ( <http://www.wikidata.org/prop/direct/P84> | <http://www.wikidata.org/prop/direct/P170> ) <http://www.wikidata.org/entity/Q762> .
  ?var1  <http://www.wikidata.org/prop/direct/P18>  ?var2 .
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P571>  ?var4 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P1705>  ?var7Label .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P1071>  ?var6 .
 }
 SERVICE  <http://wikiba.se/ontology#label>   {
    <http://www.bigdata.com/rdf#serviceParam>  <http://wikiba.se/ontology#language>  "en,it,fr,de,es".
  }
}
ORDER BY ASC( ?var1Label )

	|
	|
	v

query 9:

# reorder the result by entity IDs 

ID: 659655593
timestamp: 2017-06-12 09:33:09 +00:00
SELECT DISTINCT ?var1  ?var1Label (  ?var2  AS  ?var3  )(  YEAR (  ?var4  )  AS  ?var5  ) ?var6Label 
WHERE {
  ?var1 ( <http://www.wikidata.org/prop/direct/P84> | <http://www.wikidata.org/prop/direct/P170> ) <http://www.wikidata.org/entity/Q762> .
  ?var1  <http://www.wikidata.org/prop/direct/P18>  ?var2 .
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P571>  ?var4 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P1705>  ?var7Label .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P1071>  ?var6 .
 }
 SERVICE  <http://wikiba.se/ontology#label>   {
    <http://www.bigdata.com/rdf#serviceParam>  <http://wikiba.se/ontology#language>  "en,it,fr,de,es".
  }
}
ORDER BY ASC( ?var1 )

	|
	|
	v

query 10:

# Reduce variable again, no year extraction

ID: 659546502
timestamp: 2017-06-12 09:34:10 +00:00
SELECT DISTINCT ?var1  ?var1Label (  ?var2  AS  ?var3  ) ?var4Label 
WHERE {
  ?var1 ( <http://www.wikidata.org/prop/direct/P84> | <http://www.wikidata.org/prop/direct/P170> ) <http://www.wikidata.org/entity/Q762> .
  ?var1  <http://www.wikidata.org/prop/direct/P18>  ?var2 .
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P571>  ?var5 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P1705>  ?var6Label .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P1071>  ?var4 .
 }
 SERVICE  <http://wikiba.se/ontology#label>   {
    <http://www.bigdata.com/rdf#serviceParam>  <http://wikiba.se/ontology#language>  "en,it,fr,de,es".
  }
}
ORDER BY ASC( ?var1 )

	|
	|
	v

query 11:

# P1071 label is removed

ID: 659685205
timestamp: 2017-06-12 09:34:18 +00:00
SELECT DISTINCT ?var1  ?var1Label (  ?var2  AS  ?var3  )
WHERE {
  ?var1 ( <http://www.wikidata.org/prop/direct/P84> | <http://www.wikidata.org/prop/direct/P170> ) <http://www.wikidata.org/entity/Q762> .
  ?var1  <http://www.wikidata.org/prop/direct/P18>  ?var2 .
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P571>  ?var4 .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P1705>  ?var5Label .
 }
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P1071>  ?var6 .
 }
 SERVICE  <http://wikiba.se/ontology#label>   {
    <http://www.bigdata.com/rdf#serviceParam>  <http://wikiba.se/ontology#language>  "en,it,fr,de,es".
  }
}
ORDER BY ASC( ?var1 )

	|
	|
	v

query 12:

# reduce to only one optional properties

ID: 658834165
timestamp: 2017-06-12 09:34:28 +00:00
SELECT DISTINCT ?var1  ?var1Label (  ?var2  AS  ?var3  )
WHERE {
  ?var1 ( <http://www.wikidata.org/prop/direct/P84> | <http://www.wikidata.org/prop/direct/P170> ) <http://www.wikidata.org/entity/Q762> .
  ?var1  <http://www.wikidata.org/prop/direct/P18>  ?var2 .
 OPTIONAL {
  ?var1  <http://www.wikidata.org/prop/direct/P1705>  ?var4Label .
 }
 SERVICE  <http://wikiba.se/ontology#label>   {
    <http://www.bigdata.com/rdf#serviceParam>  <http://wikiba.se/ontology#language>  "en,it,fr,de,es".
  }
}
ORDER BY ASC( ?var1 )

============================================ SESSION END ============================================
